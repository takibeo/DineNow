@model DoAnChuyenNganh.Models.Restaurant
@{
    ViewData["Title"] = "Xóa nhà hàng";
}

<div class="container py-5">
    <div class="card p-4 border-danger border-2">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h3 class="fw-bold text-danger"><i class="bi bi-trash3 me-2"></i>Xóa nhà hàng</h3>
            <a asp-action="Index" class="btn btn-outline-secondary btn-rounded">
                <i class="bi bi-arrow-left-circle"></i> Quay lại
            </a>
        </div>

        <div class="alert alert-warning">
            <i class="bi bi-exclamation-triangle-fill me-2"></i>
            Bạn có chắc chắn muốn xóa nhà hàng <strong>@Model.Name</strong> không?
        </div>

        <div class="text-center mb-4">
            @if (!string.IsNullOrEmpty(Model.ImageUrl))
            {
                <img src="@Model.ImageUrl" class="img-fluid rounded shadow-sm mb-3" style="max-width:300px;" />
            }
            <p><strong>Địa chỉ:</strong> @Model.Address</p>
            <p><strong>Thành phố:</strong> @Model.City</p>
            <p><strong>Loại món:</strong> @Model.CuisineType</p>
        </div>

        <div class="text-center">
            <button id="confirmDelete" class="btn btn-danger btn-lg btn-rounded px-4">
                <i class="bi bi-trash"></i> Xóa ngay
            </button>
            <a asp-action="Index" class="btn btn-secondary btn-lg btn-rounded px-4">
                Hủy
            </a>
        </div>
    </div>
</div>

<form asp-action="Delete" method="post" id="deleteForm">
    <input type="hidden" asp-for="Id" />
</form>

@section Scripts {
    <script>
        document.getElementById('confirmDelete').addEventListener('click', function (e) {
            e.preventDefault();
            Swal.fire({
                title: 'Xác nhận xóa?',
                text: "Hành động này không thể hoàn tác!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: 'Xóa ngay',
                cancelButtonText: 'Hủy',
                confirmButtonColor: '#dc3545',
                cancelButtonColor: '#6c757d'
            }).then((result) => {
                if (result.isConfirmed) {
                    document.getElementById('deleteForm').submit();
                }
            });
        });
    </script>
}
